<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://java.sun.com/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>EMASA: Aviso #{userBean.reportSelected.id}</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" href="resources/css/style.css" />

	<!-- Compiled and minified Bootstrap CSS -->
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
		integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
		crossorigin="anonymous" />

	<!-- Compiled and minified Bootstrap JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
		integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
		crossorigin="anonymous"></script>
</h:head>

<h:body>
	<f:phaseListener type="com.emasagae.config.SessionPhaseListener" />
	<ui:include src="/includes/header.xhtml" />
	<div class="container-fluid container">
		<div class="row padd">
			<div style="margin: auto; width: 100%;">
				<div class="container-main-title">
					<h1 class="fsize50" style="color: #00A2DB;">VER AVISO</h1>
					<span class="fsize25">Aviso </span><span class="fsize20">#{userBean.reportSelected.id}</span>
				</div>
				<h:form>
					<div class="form-group">
						<label for="outputEmail" class="form-text-input">Email *</label>
						<h:inputText id="outputEmail" maxlength="70" value="#{userBean.email}" style="border-radius: 5px" class="form-control" a:autofocus="true" />
					</div>
					<div class="form-group">
						<label for="outputAddress" class="form-text-input">Direcci&oacute;n*</label>
						<h:inputText id="outputAddress" maxlength="100" value="#{userBean.reportSelected.address}" style="border-radius: 5px"	class="form-control" />
					</div>
					<div class="form-group">
						<label for="outputZip" class="form-text-input">C&oacute;digo postal</label> #{reportBean.setZip(null)}
						<h:inputText id="outputZip" maxlength="5" value="#{userBean.reportSelected.zip}" style="border-radius: 5px;" class="form-control" />
					</div>
					<div class="form-group" style="width: 300px;">
						<label for="inputPriority" class="form-text-input">Prioridad*</label>
						<div style="background: #efefef; padding: 10px; border: 1px solid #cccccc; border-radius: 5px;">
							#{reportBean.setPriority("LOW")}
							<h:selectOneRadio value="#{userBean.reportSelected.priority}" layout="pageDirection">
								<f:selectItem itemValue="LOW" itemLabel="&nbsp;Baja" />
								<f:selectItem itemValue="MED" itemLabel="&nbsp;Media" />
								<f:selectItem itemValue="MAX" itemLabel="&nbsp;Urgente" />
							</h:selectOneRadio>
						</div>
					</div>
					<div class="form-group">
						<label for="inputStartDate" class="form-text-input">Fecha de inicio de la aver&iacute;a</label>
						<p:calendar id="inputStartDate" style="display: block;"	value="#{userBean.reportSelected.startDate}" pattern="dd/MM/yyyy HH:mm" showOn="both" />
						<p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
							<h:outputText value="#{userBean.reportSelected.startDate}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
							</h:outputText>
						</p:dialog>
					</div>
					<div class="form-group">
						<label for="inputFinishDate" class="form-text-input">Fecha de finalizaci&oacute;n de la aver&iacute;a</label>
						<p:calendar id="inputFinishDate" style="display: block;" value="#{userBean.reportSelected.finishDate}" pattern="dd/MM/yyyy HH:mm" showOn="both" />
						<p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
							<h:outputText value="#{userBean.reportSelected.finishDate}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
							</h:outputText>
						</p:dialog>
					</div>
					<div class="form-group">
						<label for="inputType" class="form-text-input">Tipo de aver&iacute;a</label>
						<h:inputText id="inputType" maxlength="20" value="#{userBean.reportSelected.type}" style="border-radius: 5px;" class="form-control" />
					</div>
					<div class="form-group">
						<label for="inputType" class="form-text-input">Etiqueta de Flickr</label>
						<h:inputText id="inputLabel" maxlength="20" value="#{userBean.reportSelected.label}" style="border-radius: 5px;" class="form-control" />
					</div>
					<div class="form-group">
						<label for="inputDescription" class="form-text-input">Descripci&oacute;n*</label>
						<h:inputTextarea id="inputDescription" rows="4" cols="500" maxlength="500" autoResize="false" value="#{userBean.reportSelected.description}" style="border-radius: 5px; resize: none;" class="form-control" />
					</div>                                             
	                * Campo obligatorio<br/>
	                <center>
		               	<h:commandButton value="Cancelar" action="#{reportBean.doViewReport(userBean.reportSelected)}" style="margin: 8px 0 0 5px;" class="btn btn-default" a:aria-expanded="false" />
						<h:commandButton value="Guardar" action="#{reportBean.doSaveUpdate()}" style="margin: 8px 0 0 5px;" class="btn btn-success" a:aria-expanded="false" />
					</center>
				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>